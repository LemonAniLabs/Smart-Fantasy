# Fantasy Basketball AI - å®Œæ•´æ¶æ§‹è¦åŠƒ

## ğŸ¯ ç”¢å“é¡˜æ™¯

æ‰“é€ ä¸€å€‹ **æ•¸æ“šé©…å‹•çš„ Fantasy Basketball åˆ†æå¹³å°**ï¼Œæä¾›ï¼š
- å…¨é¢çš„çƒå“¡è¡¨ç¾æ•¸æ“šæ”¶é›†ï¼ˆday-by-dayï¼‰
- æ·±åº¦åˆ†æå¼•æ“ï¼ˆç†±é–€çƒå“¡ã€åƒ¹å€¼åˆ†æã€è¶¨å‹¢é æ¸¬ï¼‰
- å€‹äººåŒ–åˆ†æç‹€æ…‹å„²å­˜
- æœƒå“¡è¨‚é–±åˆ¶ç‡Ÿåˆ©æ¨¡å¼

---

## ğŸ—ï¸ ç³»çµ±æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Frontend (Next.js)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚   Dashboard  â”‚  â”‚   Analytics  â”‚  â”‚  Player Card â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    API Layer (Next.js API Routes)            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ Yahoo API  â”‚  â”‚ NBA Stats  â”‚  â”‚ Analytics  â”‚           â”‚
â”‚  â”‚  Wrapper   â”‚  â”‚    API     â”‚  â”‚   Engine   â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Data Layer (Supabase)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  Raw Data Storage (Game Logs, Transactions...)   â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  Analytics Cache (Computed Insights)             â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  User State (Preferences, Analysis History)      â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  Membership (Tiers, Usage, Payments)             â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  External Services                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Yahoo Fantasy API  â”‚  NBA Stats API  â”‚  Ko-fi / Stripe     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š æ•¸æ“šæ”¶é›†ç­–ç•¥

### Day-by-Day å…¨é¢æ”¶é›†

```typescript
// æ¯æ—¥è‡ªå‹•åŒ–æ”¶é›†æµç¨‹
1. æ”¶é›†æ‰€æœ‰è¯ç›Ÿçƒå“¡çš„ç•¶æ—¥æ•¸æ“š
2. å„²å­˜åˆ° Supabase (player_game_logs)
3. æª¢æ¸¬é‡è¦äº‹ä»¶ (å‚·ç—…ã€äº¤æ˜“ã€çªç ´æ€§è¡¨ç¾)
4. æ›´æ–°åˆ†æå¿«å– (computed metrics)
5. è§¸ç™¼é€šçŸ¥ (å¦‚æœæœ‰é‡è¦è®ŠåŒ–)
```

### æ”¶é›†ç¯„åœ

| æ•¸æ“šé¡å‹ | æ”¶é›†é »ç‡ | ä¿å­˜æœŸé™ | ç”¨é€” |
|---------|---------|---------|------|
| **Game Logs** | æ¯æ—¥ | æ°¸ä¹… | è¶¨å‹¢åˆ†æã€æ­·å²å°æ¯” |
| **Transactions** | å³æ™‚ | æ°¸ä¹… | Waiver wire åˆ†æ |
| **Ownership** | æ¯é€± | æ°¸ä¹… | åƒ¹å€¼åˆ†æ |
| **Matchups** | æ¯é€± | ç•¶å­£ | å°æˆ°ç­–ç•¥ |
| **Rankings** | æ¯æ—¥ | ç•¶å­£ | æ’åè¿½è¹¤ |

---

## ğŸ§  åˆ†æåŠŸèƒ½æ¨¡å¡Š

### 1. ç†±é–€/å†·é–€çƒå“¡åµæ¸¬ ğŸ”¥â„ï¸

```typescript
// åˆ†æé‚è¼¯
interface TrendAnalysis {
  player_key: string
  trend: 'hot' | 'cold' | 'stable'
  confidence: number  // 0-100

  metrics: {
    last_7_days_avg: Stats
    last_30_days_avg: Stats
    season_avg: Stats
    improvement_percentage: number
  }

  reasons: string[]  // ["PTS +15%", "FG% improved", ...]
}

// åµæ¸¬æ¢ä»¶
- Hot: è¿‘ 7 å¤©è¡¨ç¾ > è³½å­£å¹³å‡ 15%+
- Cold: è¿‘ 7 å¤©è¡¨ç¾ < è³½å­£å¹³å‡ 15%+
- è€ƒæ…®å¤šå€‹çµ±è¨ˆé¡åˆ¥ï¼ˆPTS, REB, AST, FG%, etc.ï¼‰
```

### 2. åƒ¹å€¼åˆ†æ ğŸ’

```typescript
interface ValueAnalysis {
  player_key: string
  value_score: number  // 0-100

  factors: {
    performance_vs_adp: number     // å¯¦éš›è¡¨ç¾ vs é¸ç§€é †ä½
    ownership_percentage: number   // æ“æœ‰ç‡
    consistency_score: number      // ç©©å®šæ€§
    upside_potential: number       // ä¸Šå‡æ½›åŠ›
  }

  recommendation: 'must_add' | 'strong_add' | 'monitor' | 'drop'
}
```

### 3. Waiver Wire å„ªå…ˆç´š ğŸ“‹

```typescript
interface WaiverPriority {
  player_key: string
  priority: number  // 1-10

  analysis: {
    recent_performance: number
    schedule_strength: number
    injury_replacement: boolean
    trending_up: boolean
  }

  add_probability: number  // è¢«åŠ å…¥çš„å¯èƒ½æ€§ (0-100%)
}
```

### 4. å°æˆ°ç­–ç•¥å»ºè­° âš”ï¸

```typescript
interface MatchupStrategy {
  week: number
  my_team_key: string
  opponent_team_key: string

  predictions: {
    win_probability: number
    close_categories: string[]  // å¯èƒ½æ±ºå‹çš„é¡åˆ¥
    streaming_spots: number     // å¯ç”¨çš„ streaming åé¡
  }

  recommendations: {
    must_start: string[]        // å¿…é ˆå…ˆç™¼çš„çƒå“¡
    sit_candidates: string[]    // å¯ä»¥åæ¿å‡³çš„çƒå“¡
    streaming_targets: string[] // Streaming ç›®æ¨™
  }
}
```

### 5. äº¤æ˜“åˆ†æ ğŸ”„

```typescript
interface TradeAnalysis {
  giving: string[]  // é€å‡ºçš„çƒå“¡
  receiving: string[]  // å¾—åˆ°çš„çƒå“¡

  impact: {
    overall_score_change: number
    category_impacts: Record<string, number>
    roster_balance: number
    playoff_impact: number
  }

  recommendation: 'accept' | 'reject' | 'counter'
  reasoning: string[]
}
```

---

## ğŸ’¾ Supabase è³‡æ–™è¡¨è¨­è¨ˆ

### æ ¸å¿ƒè³‡æ–™è¡¨

#### 1. `player_game_logs` (å·²å­˜åœ¨ï¼Œæ“´å……)
```sql
- id: uuid
- player_key: text
- player_name: text
- game_date: date
- stats: jsonb
- opponent: text (æ–°å¢)
- home_away: text (æ–°å¢)
- minutes_played: integer (æ–°å¢)
- game_result: text (æ–°å¢: 'W' | 'L')
- created_at: timestamp
- updated_at: timestamp
```

#### 2. `player_analytics` (æ–°å¢)
```sql
- id: uuid
- player_key: text
- analysis_date: date
-
- trend: text ('hot' | 'cold' | 'stable')
- trend_confidence: integer
- value_score: integer
-
- last_7_avg: jsonb
- last_14_avg: jsonb
- last_30_avg: jsonb
- season_avg: jsonb
-
- consistency_score: integer
- upside_potential: integer
-
- created_at: timestamp
```

#### 3. `league_transactions` (æ–°å¢)
```sql
- id: uuid
- league_key: text
- transaction_id: text
- transaction_type: text ('add' | 'drop' | 'trade')
- player_key: text
- team_key: text
- timestamp: timestamp
-
- waiver_priority: integer (if applicable)
-
- created_at: timestamp
```

#### 4. `player_ownership_history` (æ–°å¢)
```sql
- id: uuid
- player_key: text
- week: integer
- season: text
-
- ownership_percentage: decimal
- add_count: integer
- drop_count: integer
-
- created_at: timestamp
```

#### 5. `user_analysis_state` (æ–°å¢)
```sql
- id: uuid
- user_id: text (Yahoo GUID)
-
- watched_players: jsonb (array of player_keys)
- custom_alerts: jsonb
- analysis_preferences: jsonb
-
- last_viewed_analysis: timestamp
- created_at: timestamp
- updated_at: timestamp
```

#### 6. `user_memberships` (æ–°å¢)
```sql
- id: uuid
- user_id: text (Yahoo GUID)
-
- tier: text ('free' | 'supporter' | 'premium')
- status: text ('active' | 'expired' | 'cancelled')
-
- started_at: timestamp
- expires_at: timestamp
-
- payment_provider: text ('kofi' | 'stripe')
- payment_id: text
-
- created_at: timestamp
- updated_at: timestamp
```

#### 7. `analytics_cache` (æ–°å¢)
```sql
- id: uuid
- cache_key: text (unique)
- cache_type: text ('hot_players' | 'waiver_targets' | 'matchup_preview')
-
- data: jsonb
- expires_at: timestamp
-
- created_at: timestamp
```

---

## ğŸ¨ UI/UX è¨­è¨ˆ

### æ–°å¢é é¢

#### 1. Analytics Dashboard (`/analytics`)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”¥ Hot Players    â”‚  â„ï¸ Cold Players  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ’ Top Value Picks                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“Š Your Team Analysis                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“‹ Waiver Wire Priorities              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2. Player Deep Dive (`/player/[key]`)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Player Header (name, team, position)   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“ˆ Trend Chart (last 30 games)         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ¯ Analysis                             â”‚
â”‚  - Hot/Cold status                      â”‚
â”‚  - Value score                          â”‚
â”‚  - Consistency rating                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“Š Stats Breakdown                     â”‚
â”‚  - Season avg vs Recent                 â”‚
â”‚  - Category splits                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 3. Waiver Wire Assistant (`/waiver`)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¯ Top Targets (ranked by priority)    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“Š Trending Up                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ’¡ Deep Sleepers                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âš ï¸ Drop Candidates                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’° ç‡Ÿåˆ©æ¨¡å¼è¨­è¨ˆ

### æœƒå“¡åˆ†å±¤

| åŠŸèƒ½ | Free | Supporter ($5/æœˆ) | Premium ($10/æœˆ) |
|------|------|------------------|-----------------|
| åŸºæœ¬æ•¸æ“šæŸ¥çœ‹ | âœ… | âœ… | âœ… |
| çƒå“¡æ¯”è³½ç´€éŒ„ | æœ€è¿‘ 5 å ´ | æœ€è¿‘ 20 å ´ | å…¨éƒ¨ |
| ç†±é–€/å†·é–€åµæ¸¬ | âŒ | âœ… | âœ… |
| åƒ¹å€¼åˆ†æ | âŒ | âœ… | âœ… |
| Waiver å„ªå…ˆç´š | å‰ 5 å | å‰ 20 å | å…¨éƒ¨ |
| å°æˆ°ç­–ç•¥å»ºè­° | âŒ | åŸºç¤ | é€²éš |
| äº¤æ˜“åˆ†æå™¨ | âŒ | âŒ | âœ… |
| è‡ªè¨‚é€šçŸ¥ | âŒ | âŒ | âœ… |
| æ­·å²æ•¸æ“šåŒ¯å‡º | âŒ | âŒ | âœ… |
| API ä½¿ç”¨æ¬¡æ•¸ | 100/å¤© | 500/å¤© | ç„¡é™ |

### ä»˜è²»æ•´åˆ

#### Ko-fi Integration
```typescript
// Ko-fi webhook endpoint
POST /api/payment/kofi-webhook

// Verify payment and upgrade user
- Check Ko-fi signature
- Find user by email
- Upgrade membership tier
- Send confirmation email
```

#### Stripe Integration (å‚™é¸)
```typescript
// Stripe subscription
- Create checkout session
- Handle webhook events
- Manage recurring billing
- Handle cancellations
```

---

## ğŸ”„ æ•¸æ“šæ›´æ–°ç­–ç•¥

### è‡ªå‹•åŒ–æµç¨‹

```typescript
// Cron jobs (ä½¿ç”¨ Vercel Cron æˆ– GitHub Actions)

1. Daily at 9:00 AM ET (æ¯”è³½çµæŸå¾Œ)
   - Collect previous day game logs
   - Update player analytics
   - Refresh hot/cold detection
   - Update ownership data

2. Weekly on Monday 6:00 AM ET
   - Collect weekly transactions
   - Update waiver wire priorities
   - Generate matchup previews
   - Clear stale cache

3. Real-time (on demand)
   - User-triggered analysis
   - Trade evaluation
   - Custom queries
```

---

## ğŸš€ å¯¦ä½œå„ªå…ˆç´š

### Phase 1: æ ¸å¿ƒæ•¸æ“šæ”¶é›† (1-2 é€±)
- âœ… Supabase schema å»ºç«‹
- âœ… Day-by-day æ”¶é›†ç³»çµ±
- âœ… Transaction è¿½è¹¤
- âœ… Ownership è¿½è¹¤

### Phase 2: åˆ†æå¼•æ“ (2-3 é€±)
- âœ… ç†±é–€/å†·é–€åµæ¸¬
- âœ… åƒ¹å€¼åˆ†æç®—æ³•
- âœ… Waiver å„ªå…ˆç´š
- âœ… Analytics cache layer

### Phase 3: UI/UX (1-2 é€±)
- âœ… Analytics Dashboard
- âœ… Player Deep Dive é é¢
- âœ… Waiver Assistant

### Phase 4: æœƒå“¡ç³»çµ± (1 é€±)
- âœ… User membership è¡¨
- âœ… Ko-fi æ•´åˆ
- âœ… Feature gating
- âœ… Usage tracking

### Phase 5: å„ªåŒ–èˆ‡ä¸Šç·š (1 é€±)
- âœ… æ•ˆèƒ½å„ªåŒ–
- âœ… æ¸¬è©¦
- âœ… æ–‡æª”
- âœ… æ­£å¼ä¸Šç·š

---

## ğŸ“Š æˆåŠŸæŒ‡æ¨™

### æŠ€è¡“æŒ‡æ¨™
- API å›æ‡‰æ™‚é–“ < 500ms (90th percentile)
- Cache hit rate > 80%
- æ•¸æ“šå®Œæ•´æ€§ > 99%
- ç³»çµ±å¯ç”¨æ€§ > 99.9%

### ç”¢å“æŒ‡æ¨™
- DAU (Daily Active Users)
- Conversion rate (Free â†’ Paid)
- Retention rate (7-day, 30-day)
- NPS (Net Promoter Score)

---

## ğŸ” å®‰å…¨æ€§è€ƒé‡

1. **API Rate Limiting**
   - Free: 100 requests/day
   - Supporter: 500 requests/day
   - Premium: Unlimited (with abuse detection)

2. **Data Privacy**
   - User data encryption at rest
   - GDPR compliance
   - Right to deletion

3. **Payment Security**
   - Use established providers (Ko-fi/Stripe)
   - No storage of payment details
   - Webhook signature verification

---

é€™ä»½æ¶æ§‹è¦åŠƒæ¶µè“‹äº†ï¼š
âœ… å®Œæ•´çš„ç³»çµ±æ¶æ§‹
âœ… æ•¸æ“šæ”¶é›†ç­–ç•¥
âœ… åˆ†æåŠŸèƒ½è¨­è¨ˆ
âœ… Supabase schema
âœ… UI/UX è¨­è¨ˆ
âœ… ç‡Ÿåˆ©æ¨¡å¼
âœ… å¯¦ä½œå„ªå…ˆç´š

æ¥ä¸‹ä¾†æˆ‘å€‘å¯ä»¥é–‹å§‹å¯¦ä½œï¼
